/*
 -- Copyright (c) 2017-2019 Mootly Obviate -- See /LICENSE.md -------------- */
var $jscomp={scope:{},findInternal:function(a,e,d){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var f=a[c];if(e.call(d,f,c,a))return{i:c,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,d,b){if(e){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in d||(d[c]={});d=d[c]}a=a[a.length-1];b=d[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
var mpv_errMsgs={fieldRequired:{general:"This field is required.",address:"Please provide an address.",captcha:"Please complete the captcha.",date:"Please provide a date.",email:"Please provide an email address.",file:"Please include an attachment.",name:"Please provide a name.",password:"Please provide a password.",phone:"Please provide a phone number.",url:"Please provide a URL/URI.",user:"Please provide a user ID."},fieldFormat:{date:"Please provide a properly formatted date.",mail:"Please provide a properly formatted email address.",
phone:"Please provide a properly formatted phone number.",url:"Please provide a properly formatted URL/URI.",general:"Please see the form directions for formatting information for this field."},formRequired:{general:"There are required fields that have not been completed.",address:"A required address is missing.",captcha:"Please complete the captcha.",date:"A required date is missing.",email:"A required email address is missing.",file:"A required attachment is missing.",name:"A required name is missing.",
password:"Please provide a password.",phone:"A required phone number is missing.",url:"A required URL/URI is missing.",user:"Please provide a user ID."},formFormat:{date:"A date field is not properly formatted for submission.",email:"An email address field is not properly formatted for submission.",phone:"A phone number field is not properly formatted for submission.",url:"A URL/URI field is not properly formatted for submission.",general:"There is an improperly formatted field. Please see the form directions."}};
$("#fld_submit_btn").click(function(a){event.preventDefault();var e=!0,d="text",b=$("<span />",{"class":"errorOnField"}),c=$("<li />"),f=$("<div />",{id:"submit_summary","class":"warning"});$("<h3 />",{id:"h3_submit_summary"}).text("This form appears to have errors and is not ready to submit:").appendTo(f);$("<ul />",{id:"ul_submit_summary"}).appendTo(f);a="#"+$("form.primary")[0].id;"undefined"===typeof mpv_submitFlags&&(mpv_submitFlags=[""]);var g=mpv_submitFlags.noErrorCheck?!1:!0;f.append(mpv_submitFlags.replyOnError?
mpv_submitFlags.replyOnError:"");var n=mpv_submitFlags.replyOnSuccess?mpv_submitFlags.replyOnSuccess:"",h=mpv_submitFlags.noSummary?!1:!0,k="suppress"==mpv_submitFlags.inlinePos?!1:!0,l="before"==mpv_submitFlags.inlinePos?!0:!1;$("input, textarea").removeClass("missingValue").removeClass("invalidValue");$(".errorOnField").remove();$("#feedbackOnForm").empty();if(g&&($("input, textarea").filter(".required, [required]").each(function(){if(""==$(this).val()){$(this).addClass("missingValue");e=!1;$(this).attr("id");
d=$(this).attr("data-ftype")?$(this).attr("data-ftype"):$(this).attr("type");switch(d){case "address":b.html(mpv_errMsgs.fieldRequired.address);c.html(mpv_errMsgs.formRequired.address);break;case "captcha":b.html(mpv_errMsgs.fieldRequired.captcha);c.html(mpv_errMsgs.formRequired.captcha);break;case "date":case "datetime-local":b.html(mpv_errMsgs.fieldRequired.date);c.html(mpv_errMsgs.formRequired.date);break;case "email":b.html(mpv_errMsgs.fieldRequired.email);c.html(mpv_errMsgs.formRequired.email);
break;case "name":b.html(mpv_errMsgs.fieldRequired.name);c.html(mpv_errMsgs.formRequired.name);break;case "password":b.html(mpv_errMsgs.fieldRequired.password);c.html(mpv_errMsgs.formRequired.password);break;case "phone":case "tel":b.html(mpv_errMsgs.fieldRequired.phone);c.html(mpv_errMsgs.formRequired.phone);break;case "file":case "image":b.html(mpv_errMsgs.fieldRequired.file);c.html(mpv_errMsgs.formRequired.file);break;case "url":b.html(mpv_errMsgs.fieldRequired.url);c.html(mpv_errMsgs.formRequired.url);
break;default:b.html(mpv_errMsgs.fieldRequired.general),c.html(mpv_errMsgs.formRequired.general)}k&&(l?$(this).before(b.clone()):$(this).after(b.clone()));h&&f.find("#ul_submit_summary").append(c.clone())}}),$("input").filter("[pattern]").each(function(){var a=$(this).val(),g=new RegExp($(this).attr("pattern"));if(-1==a.search(g)&&""!=a){$(this).addClass("invalidValue");e=!1;$(this).attr("id");d=$(this).attr("data-ftype")?$(this).attr("data-ftype"):$(this).attr("type");switch(d){case "date":case "datetime-local":b.html(mpv_errMsgs.fieldFormat.date);
c.html(mpv_errMsgs.formFormat.date);break;case "email":b.html(mpv_errMsgs.fieldFormat.email);c.html(mpv_errMsgs.formFormat.email);break;case "phone":case "tel":b.html(mpv_errMsgs.fieldFormat.phone);c.html(mpv_errMsgs.formFormat.phone);break;case "url":b.html(mpv_errMsgs.fieldFormat.url);c.html(mpv_errMsgs.formFormat.url);break;default:b.html(mpv_errMsgs.fieldFormat.general),c.html(mpv_errMsgs.formFormat.general)}k&&(l?$(this).before(b.clone()):$(this).after(b.clone()));h&&f.find("#ul_submit_summary").append(c.clone())}}),
e&&$("#fld_captcha").length&&!$.trim($("#g-recaptcha-response").val())&&(e=!1,b.html(mpv_errMsgs.fieldRequired.captcha),c.html(mpv_errMsgs.formRequired.captcha),k&&(l?$("#g-recaptcha-response").before(b.clone()):$("#g-recaptcha-response").after(b.clone())),h&&f.find("#ul_submit_summary").append(c.clone())),!e&&h)){var m={};f.find("#ul_submit_summary li").each(function(){var a=$(this).text();m[a]?$(this).remove():m[a]=!0});$("#feedbackOnForm").append(f)}e&&(g=$(a).serializeArray(),$("#fld_submit_btn").prop("value",
"Processing..."),a=$("#fld_postpath").val()?$("#fld_postpath").val():$(a).attr("action"),a="./post.php",$("#fld_postpath").val()&&(a=$("#fld_postpath").val()),$.post(a,g).done(function(a){$("#fld_submit_btn").prop("value","Submit Form");$("#fs_submitForm").get(0).scrollIntoView();$("#feedbackOnForm").html(n);$("#feedbackOnForm").append(a);$(".allow-retry").length||($("#fld_captcha, #fld_submit_btn, .noprint").hide(),$("#fs_submitForm legend").text("You may print a copy of this for your records."))}).fail(function(){alert("There was an error with this request.")}))});
