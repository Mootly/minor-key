<!DOCTYPE html>

<html>
<head>
  <title></title>
  <style type="text/css">
  body {
    margin: 2.0em auto;
    max-width: 50em;
    background-color: rgb(246,243,244) ;
    color: rgb(16,24,32);
    font-size: 1.0em;
    font-family: 'Helvetica Neue', Verdana, Arial, sans-serif;
  }
  @media ( max-width: 54em ) {
    body {margin: 2.0em 2.0em;}
  }
  p, dl { line-height: 1.1875em; }

  dl.inline-terms {
    border-bottom: 1px solid rgba(16,24,32,0.125);
    border-top: 1px solid rgba(16,24,32,0.125);
  }
  dl.inline-terms dt {
    float: left;
    clear: left;
    width: 8.0em;
    text-align: right;
    font-weight: bold;
    padding-right: 0.5em;
    padding-top: 0.325em;
    padding-bottom: 0.375em;
  }
  dl.inline-terms dt::after {
    content: " : ";
  }
  dl.inline-terms dd {
    margin-left: 8.5em;
    padding-top: 0.375em;
    padding-bottom: 0.375em;
    border-top: 1px solid rgba(16,24,32,0.125);
  }
  dl.inline-terms dd:first-of-type {
    border-top: none;
  }
  </style>
</head>
<body>

<h1>Minor-Key docs</h1>

<div id="contents">

<h2 id="toc-links">Contents</h2>

<h2>Component separation and processing order</h2>

<p>All core code has been written with the unidirectional flow described below. You can iterate, but not move backwards.</p>

<p>Direction of flow is enforced by encapsulation and an expection that a particular type of object will be passed each step of the way. Core files will include the following strings to indicate what part of the process they are involved with.</p>

<p>Request evaluation and computation:</p>
<dl class="inline-terms">
  <dt id="dfn-process-init">init</dt><dd>Initialize core.</li></dd>
  <dt id="dfn-process-grab">grab</dt><dd>Retrieve requests and accompanying data.</dd>
  <dt id="dfn-process-proc">proc</dt><dd>Process request data and gather response data.</dd>
</dl>

<p>Response assembly and presentation:</p>
<dl class="inline-terms">
  <dt id="dfn-process-prep">prep</dt><dd>Use the template to prepare response for presentation</dd>
  <dt id="dfn-process-send">send</dt><dd>Send response</dd>
</dl>

<h2>Naming conventions</h2>

<p>Minor-Key uses prefixes to designate namespaces reserved for use by core and to designate certain categories of variables. These prefexes are broken out by what they label.</p>

<p>Reserved prefixes:</p>
<dl class="inline-terms">
  <dt id="dfn-prefix-mk">mk_</dt><dd>General use to clarify files and directories as part of the minor-key code base.</dd>
  <dt id="dfn-prefix-mkk">MK_</dt><dd>Constants defined by core.</dd>
  <dt id="dfn-prefix-mkc">mkc_</dt><dd>Class definitions. There may be a fourth letter to specify specific the nature of the class definition.</dd>
  <dt id="dfn-prefix-mkf">mkf_</dt><dd>Functions. All public core functions are prefixed with <b>mkf_</b></dd>
  <dt id="dfn-prefix-mko">mko_</dt><dd>Object instances. All instantiated core objects should be prefixed with <b>mko_</b>.</dd>
  <dt id="dfn-prefix-mkv">mkv_</dt><dd>Variables. Most public core variables are prefixed with <b>mkv_</b>.</dd>
  <dt id="dfn-prefix-mkv">mkt_</dt><dd>Template settings.</dd>
  <dt id="dfn-prefix-mkpre">mkpre_</dt><dd>User defined functions to run before a core function of the same name. Not all functions support this.</dd>
  <dt id="dfn-prefix-mkpost">mkpost_</dt><dd>User defined functions to run after a core function of the same name. Not all functions support this.</dd>
  <dt id="dfn-prefix-mkpost">DEF_</dt><dd>Site specific default constants. These should only be set in <b>init.php</b> or the template-specific equivalent.</dd>
  <dt id="dfn-prefix-mkpost">temp_</dt><dd>Temporary variables. They should be assumed to contain garbage and should never be used across more than a few lines of code.</dd>
  <dt id="dfn-prefix-mkpost">t_</dt><dd>Temporary variables. They should be assumed to contain garbage and should never be used across more than a few lines of code.</dd>
</dl>

<h2>Commenting the code</h2>

<p>Minor-Key uses multiple types of commments, depending on function:</p>
<dl class="inline-terms">
  <dt id="dfn-comments-block">block</dt>
  <dd>
    A basic block or multiline comment uses slashterisk notation.
    <pre>/*<br /> * Some long decription<br /> */</pre>
  </dd>
  <dt id="dfn-comments-block">PHPDoc</dt>
  <dd>
    A comment block that documents how functions or objects work, or catalogs the contents of the current file, uses the modified slashterisk format to conform to PHPDoc standard. This allows PHPDoc-aware editors to color code keywords in the comments, as well as allowing a PHPDoc parser to generate documentation from the comments.
    <pre>/**<br />  * Some long decription<br />  */</pre>
  </dd>
  <dt id="dfn-comments-block">inline</dt>
  <dd>
    Inline comments beign with a hash mark: <code>#</code>. This is to differentiate it from commented-out code.
    <pre># inline comment</pre>
    For section breaks, or to call out a comment, a dashed line is used with an asterisk in the 81st column to make it easier to scan for comments.
    <pre># Do some new stuff -------------------------------------------------- *</pre>
  </dd>
  <dt id="dfn-comments-block">code</dt>
  <dd>
    Code is commented out with a double slash <code>//</code>. This is the default in PHP, so if you use hot keys to comment out blocks of code, it is what you will get.
    <pre>// echo testvar;</pre>
  </dd>
</dl>

</div>

<script type="text/javascript" src="../vendors/jquery/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="../_assets/js/toc-generator.js"></script>
</body>
</html>
